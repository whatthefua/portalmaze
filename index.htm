<!DOCTYPE HTML>
<html>
    <head>
        <script type="text/javascript" src="controller.js"></script>
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript" src="maze.js"></script>
        <script type="text/javascript" src="minheap.js"></script>
        <script type="text/javascript" src="rect.js"></script>
        <script type="text/javascript" src="text.js"></script>
    </head>
    
    <body>
        <canvas id="mainCanvas" width="640" height="480" tabindex="1"></canvas>
        
        <script type="text/javascript">
            window.onload = function()
            {
                $.ajaxSetup({ cache: false });
                window.canvas = document.getElementById("mainCanvas");
                window.ctx = window.canvas.getContext("2d");
                
                window.GC = new controller();
                
                window.setInterval(function() {
                    window.GC.render();
                },33);
                
                window.test = new maze(100,100,40,5,5,"c08fefe9999584935843528958032",{ x: 0, y: 0 },{ x: 4, y: 4});
                window.test.decodeData();
                window.GC.addObject(100,window.test,1);
                
                $("#mainCanvas").mousedown(function() {
                    window.GC.mouseDown(); 
                });
                
                $("#mainCanvas").keypress(function(e) {
                    
                    
                    switch(e.keyCode)
                    {
                        case 37: window.test.moveLeft(); break;
                        case 38: window.test.moveUp(); break;
                        case 39: window.test.moveRight(); break;
                        case 40: window.test.moveDown(); break;
                    }
                });
            };
        </script>
    </body>
</html>